# http://www.appveyor.com/docs/appveyor-yml

notifications:
  - provider: Email
    to:
      - vik.kirilov@gmail.com
    on_build_status_changed: true
    on_build_failure: true

clone_depth: 5
matrix:
  fast_finish: true
branches:
  except:
    - gh-pages
platform:
  - x64
configuration:
  - Debug
  - Release

before_build:
  - cmake -G "Visual Studio 14 2015 Win64" .
  - echo "{{configuration}}"
  - echo "{configuration}"
  - echo {{configuration}}
  - echo {configuration}
  - echo "$(configuration)"
  - echo $(configuration)
  - echo "{{config}}"
  - echo "{config}"
  - echo {{config}}
  - echo {config}
  - echo "$(config)"
  - echo $(config)
  - echo %config%
  - echo %configuration%
build:
  parallel: true
  project: ci.sln
test_script:
  - tree /F
  - cmake --build . --target RUN_TESTS --config "{{configuration}}"